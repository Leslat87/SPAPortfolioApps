<div class="container mx-auto p-4 bg-bluegray-50 shadow-md rounded-lg">
  <h1 class="text-2xl font-bold mb-4">Buscar Imágenes</h1>
  <hr class="mb-4">

  <div class="flex flex-wrap md:flex-nowrap mb-4">
    <!-- Search Bar Section -->
    <div class="w-full lg:w-3/4 p-4">
      <form (ngSubmit)="onSearch()" class="space-y-4">
        <div>
          <label for="search" class="block text-sm font-medium text-gray-700">Buscar por Etiquetas</label>
          <input type="text" id="search" [(ngModel)]="searchTerm" name="search" class="mt-1 block w-full p-2 border border-gray-300 rounded-md">
        </div>
        <div class="flex justify-between items-center mt-4">
          <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700">Buscar</button>
        </div>
      </form>
    </div>

    <!-- Tags Section -->
    <div class="w-full lg:w-1/4 p-4">
      <h2 class="text-xl font-bold mb-2">Etiquetas</h2>
      <div class="flex flex-wrap gap-2">
        <span *ngFor="let tag of uniqueTags" (click)="onTagClick(tag)" class="cursor-pointer text-blue-500 hover:underline px-2 py-1 bg-gray-200 rounded-md">
          {{ tag }}
        </span>
      </div>
    </div>
  </div>

  <!-- Search Results Section -->
  <div *ngIf="filteredImages.length > 0">
    <h2 class="text-xl font-bold mb-2">Resultados de la Búsqueda</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 px-4">
      <div *ngFor="let image of filteredImages" class="m-2">
        <a [routerLink]="['/crud', image.id]" class="block bg-blue-50 shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300">
          <img [src]="image.alt_img || 'assets/images/' + image.id + '.jpg'" [alt]="image.name" class="object-cover w-full h-48">
          <div class="p-4">
            <h3 class="text-lg font-bold truncate">{{ image.nickname }}</h3>
            <p class="text-gray-600 truncate">{{ image.name }}</p>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>
