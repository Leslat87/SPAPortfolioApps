<<!-- Mostrar spinner mientras isLoading es true -->
<div *ngIf="isLoading" class="flex justify-center items-center min-h-screen">
  <shared-loading-spinner></shared-loading-spinner>
</div>

<!-- Mostrar contenido cuando isLoading es false -->
<div *ngIf="!isLoading" class="grid grid-cols-1 md:grid-cols-10 lg:grid-cols-10 gap-4 w-full max-w-8xl mx-auto">
  <!-- Información principal -->
  <div [style.backgroundImage]="getBackgroundImage()" class="bg-gradient-to-r from-white to-blue-300 p-6 rounded-lg shadow-md flex flex-col col-span-1 md:col-span-4 lg:col-span-4 bg-cover bg-center">
    <div class="flex items-center justify-between mb-4">
      <div>
        <img src="http://openweathermap.org/img/wn/{{ weather['weather'][0].icon }}@4x.png" alt="Weather Icon">
      </div>
      <div>
        <h2 class="text-3xl text-white font-bold">{{ weather.name }}</h2>
        <p class="text-xl text-white">{{ currentDate }} {{ currentTime }}</p>
        <p class="text-5xl text-white font-bold">{{ weather.main.temp }}°C</p>
        <p class="text-lg text-white">{{ weather['weather'][0].description }}</p>
        <p class="mt-2 text-white text-sm">Feels like: {{ weather.main.feels_like }}°C</p>
      </div>
    </div>
  </div>

  <!-- Recomendación de actividades -->
  <div [style.backgroundImage]="setRecommendation()" class="bg-gradient-to-r from-white to-blue-300 p-3 rounded-lg shadow-md flex flex-col col-span-1 md:col-span-4 lg:col-span-4 row-span-1 md:row-span-1 lg:row-span-1 bg-cover bg-center">
    <div class="flex items-center justify-between mb-4">
      <div>
        <h2 class="text-3xl font-bold text-grey">Recomendación de actividades</h2>
        <p class="text-lg text-grey">{{ recommendation.text }}</p>
        <img [src]="recommendation.imageUrl" alt="Imagen de la recomendación">
      </div>
    </div>
  </div>
   <!-- Pronóstico semanal -->
   <div class="bg-gradient-to-r from-white to-blue-300 p-4 rounded-lg shadow-md col-span-1 md:col-span-2 lg:col-span-2 row-span-2 h-full">
    <app-five-day-forecast [city]="weather.name"></app-five-day-forecast>
   </div>


  <!-- Tarjeta de Temperatura -->
  <div class="bg-gradient-to-r from-blue-50 to-white p-4 rounded-lg shadow-md col-span-1 md:col-span-2 lg:col-span-2 flex items-center justify-between h-full">
    <img src="assets/temperature.png" alt="Temperature Icon" class="h-12">
    <div>
      <p class="text-sm font-bold">Temperature</p>
      <p class="text-sm font-bold">{{ weather.main.temp }}°C</p>
    </div>
  </div>

  <!-- Tarjeta de Humedad -->
  <div class="bg-gradient-to-r from-blue-50 to-white p-4 rounded-lg shadow-md col-span-1 md:col-span-2 lg:col-span-2 flex items-center justify-between h-full">
    <img src="assets/humedad.png" alt="Humidity Icon" class="h-12">
    <div>
      <p class="text-sm font-bold">Humidity</p>
      <p class="text-sm font-bold">{{ weather.main.humidity }}%</p>
    </div>
  </div>

  <!-- Tarjeta de Presión -->
  <div class="bg-gradient-to-r from-blue-50 to-white p-4 rounded-lg shadow-md col-span-1 md:col-span-2 lg:col-span-2 flex items-center justify-between h-full">
    <img src="assets/pressure.png" alt="Pressure Icon" class="h-12">
    <div>
      <p class="text-sm font-bold">Pressure</p>
      <p class="text-sm font-bold">{{ weather.main.pressure }} hPa</p>
    </div>
  </div>

  <!-- Tarjeta de Visibilidad -->
  <div class="bg-gradient-to-r from-blue-50 to-white p-4 rounded-lg shadow-md col-span-1 md:col-span-2 lg:col-span-2 flex items-center justify-between h-full">
    <img src="assets/visibilidad.png" alt="Visibility Icon" class="h-12">
    <div>
      <p class="text-sm font-bold">Visibility</p>
      <p class="text-sm font-bold">{{ weather.visibility / 1000 }} km</p>
    </div>
  </div>

  <!-- Gráfica del clima por horas -->
  <div class="bg-gradient-to-r from-white to-blue-300 p-4 rounded-lg shadow-md col-span-1 md:col-span-8 lg:col-span-10 h-full">
    <h3 class="text-lg font-bold mb-4">Hourly forecast</h3>
    <app-forecast [forecastData]="forecast"></app-forecast>
  </div>
</div>
